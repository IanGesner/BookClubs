@model BookClubs.Models.ViewModels.ProfileDetailsViewModel

@{
    ViewBag.Title = "Details";
}

<style>
    .profile {
        text-align: center;
    }

    .profilePreview {
        width: 150px;
        height: 150px;
        border: 1px solid #ccc;
        display: inline-block;
        margin: 10px;
        border-radius: 5px;
    }

        .profilePreview:hover {
            background-color: #ccc;
        }

    .profilePreviewImg {
        width: 100px;
        height: 100px;
        border: 1px solid #ccc;
        margin: 10px auto 5px auto;
        display: table;
        border-radius: 5px;
    }

    .toggle-div {
        display: none;
        border: 2px solid #ccc;
        border-radius: 5px;
        text-align: center;
    }

    #profilePicture {
        width: 250px;
        height: 250px;
        border: 1px solid #ccc;
        margin: 10px;
        border-radius: 5px;
    }
</style>

<div class="profile">
    <hr />
    <img src="@Model.ProfilePictureUrl" id="profilePicture" />

    <br />

    @Html.DisplayFor(model => model.FirstName, new { @class = "name" })
    @Html.DisplayFor(model => model.LastName, new { @class = "name" })

    <br />
    @if (Model.Public || Model.Friend)
    {
        @Html.DisplayFor(model => model.Biography)
    }
    else
    {
        <p>@Model.FirstName's biography is private.</p>
    }


    <button id="viewFriendsBtn" type="button" class="btn btn-basic btn-block btn-bc">@Model.FirstName's Friends</button>
    <div id="viewFriends" class="toggle-div">
        @if (Model.Public || Model.Friend)
        {
            foreach (var item in Model.Friends)
            {
                <div class="profilePreview">
                    <img class="profilePreviewImg" src="@item.ProfilePictureUrl" onclick="location.href='@Url.Action("Details", "Profiles", new { id = item.Id })'" />
                    <p>@item.FirstName @item.LastName</p>
                </div>
            }
        }
        else
        {
            <p>@Model.FirstName's friends are private.</p>
        }
    </div>

    <button id="viewGroupsBtn" type="button" class="btn btn-basic btn-block btn-bc">@Model.FirstName's Groups</button>
    <div id="viewGroups" class="toggle-div">
        @if (Model.Public || Model.Friend)
            {
            @Html.Partial("_GroupsListPartial", Model.GroupsIn)
        }
        else
        {
            <p>@Model.FirstName's groups are private.</p>
        }
    </div>

</div>
<script src="~/Scripts/jquery-3.1.1.min.js"></script>
<script>
    $(document).ready(function () {

        $("#viewFriendsBtn").click(function () {
            $("#viewFriends").toggle();
        });

        $("#viewGroupsBtn").click(function () {
            $("#viewGroups").toggle();
        });

    });
</script>

